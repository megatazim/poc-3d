define(["exports","./Cartesian3-6ab6e817","./Cartographic-84b54204","./defaultValue-6195d6e4","./Check-d771f3f9","./buildModuleUrl-89a61082","./Math-77022010","./GeometryAttribute-b7129781","./Rectangle-f1a1bbf0"],(function(t,n,a,r,e,o,s,i,h){"use strict";var u=Math.cos,g=Math.sin,l=Math.sqrt,c={computePosition:function(t,n,a,e,o,s,i){var h=n.radiiSquared,c=t.nwCorner,C=t.boundingRectangle,d=c.latitude-t.granYCos*e+o*t.granXSin,S=u(d),w=g(d),f=h.z*w,X=c.longitude+e*t.granYSin+o*t.granXCos,Y=S*u(X),O=S*g(X),v=h.x*Y,_=h.y*O,M=l(v*Y+_*O+f*w);if(s.x=v/M,s.y=_/M,s.z=f/M,a){var p=t.stNwCorner;r.e(p)?(d=p.latitude-t.stGranYCos*e+o*t.stGranXSin,X=p.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(X-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(X-C.west)*t.lonScalar,i.y=(d-C.south)*t.latScalar)}}},C=new i.f,d=new n.o,S=new a.a,w=new n.o,f=new o.n;function X(t,a,r,e,o,s,h){var u=Math.cos(a),g=e*u,l=r*u,c=Math.sin(a),S=e*c,X=r*c;d=f.project(t,d),d=n.o.subtract(d,w,d);var Y=i.f.fromRotation(a,C);d=i.f.multiplyByVector(Y,d,d),d=n.o.add(d,w,d),s-=1,h-=1;var O=(t=f.unproject(d,t)).latitude,v=O+s*X,_=O-g*h,M=O-g*h+s*X,p=Math.max(O,v,_,M),R=Math.min(O,v,_,M),b=t.longitude,W=b+s*l,m=b+h*S,G=b+h*S+s*l;return{north:p,south:R,east:Math.max(b,W,m,G),west:Math.min(b,W,m,G),granYCos:g,granYSin:S,granXCos:l,granXSin:X,nwCorner:t}}c.computeOptions=function(t,n,a,r,o,i,u){var g=t.east,l=t.west,c=t.north,C=t.south,d=!1,Y=!1;c===s.e.PI_OVER_TWO&&(d=!0),C===-s.e.PI_OVER_TWO&&(Y=!0);var O,v,_,M,p,R=c-C;_=(p=l>g?s.e.TWO_PI-l+g:g-l)/((O=Math.ceil(p/n)+1)-1),M=R/((v=Math.ceil(R/n)+1)-1);var b=h.h.northwest(t,i),W=h.h.center(t,S);(0!==a||0!==r)&&(W.longitude<b.longitude&&(W.longitude+=s.e.TWO_PI),w=f.project(W,w));var m=M,G=_,I=h.h.clone(t,o),P={granYCos:m,granYSin:0,granXCos:G,granXSin:0,nwCorner:b,boundingRectangle:I,width:O,height:v,northCap:d,southCap:Y};if(0!==a){var T=X(b,a,_,M,0,O,v);if(c=T.north,C=T.south,g=T.east,l=T.west,c<-s.e.PI_OVER_TWO||c>s.e.PI_OVER_TWO||C<-s.e.PI_OVER_TWO||C>s.e.PI_OVER_TWO)throw new e.t("Rotated rectangle is invalid.  It crosses over either the north or south pole.");P.granYCos=T.granYCos,P.granYSin=T.granYSin,P.granXCos=T.granXCos,P.granXSin=T.granXSin,I.north=c,I.south=C,I.east=g,I.west=l}if(0!==r){a-=r;var V=h.h.northwest(I,u),x=X(V,a,_,M,0,O,v);P.stGranYCos=x.granYCos,P.stGranXCos=x.granXCos,P.stGranYSin=x.granYSin,P.stGranXSin=x.granXSin,P.stNwCorner=V,P.stWest=x.west,P.stSouth=x.south}return P},t.j=c}));
