define(["exports","./arrayRemoveDuplicates-a80848e1","./Cartographic-84b54204","./defaultValue-6195d6e4","./Math-77022010","./PolylinePipeline-0d83acd5","./GeometryAttribute-b7129781","./PrimitiveType-5db31a9b","./Cartesian3-6ab6e817"],(function(e,t,r,i,a,o,n,s,h){"use strict";var l={};function g(e,t){return a.e.equalsEpsilon(e.latitude,t.latitude,a.e.EPSILON10)&&a.e.equalsEpsilon(e.longitude,t.longitude,a.e.EPSILON10)}var u=new r.a,m=new r.a;var p=new Array(2),y=new Array(2),c={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};function v(e,t){for(var r=new Array(e.length),i=0;i<e.length;i+=3){var a=new h.o(e[i],e[i+1],e[i+2]);s.y.multiplyByPoint(t,a,a),r[i]=a.x,r[i+1]=a.y,r[i+2]=a.z}return r}l.computePositions=function(e,l,A,d,w,f,P){var b=function(e,a,o,n){var s=(a=t.D(a,h.o.equalsEpsilon)).length;if(!(s<2)){var l=i.e(n),p=i.e(o),y=!0,c=new Array(s),v=new Array(s),A=new Array(s),d=a[0];c[0]=d;var w=e.cartesianToCartographic(d,u);p&&(w.height=o[0]),y=y&&0==w.height,v[0]=w.height,A[0]=l?n[0]:0;for(var f=1,P=1;P<s;++P){var b=a[P],F=e.cartesianToCartographic(b,m);p&&(F.height=o[P]),y=y&&0==F.height,g(w,F)?w.height<F.height&&(v[f-1]=F.height):(c[f]=b,v[f]=F.height,A[f]=l?n[P]:0,r.a.clone(F,w),++f)}if(!(y||f<2))return c.length=f,v.length=f,A.length=f,{positions:c,topHeights:v,bottomHeights:A}}}(e,l,A,d);if(i.e(b)){var F=n.m.eastNorthUpToFixedFrame(b.positions[0],e,new s.y),C=s.y.inverse(F,new s.y);l=b.positions,A=b.topHeights,d=b.bottomHeights;var E,x,D,H,T=l.length,q=T-2,L=a.e.chordLength(w,e.maximumRadius),N=c;if(N.minDistance=L,N.ellipsoid=e,f){var O,I=0;for(O=0;O<T-1;O++)I+=o.m.numberOfPoints(l[O],l[O+1],L)+1;E=new Float64Array(3*I),x=new Float64Array(3*I),i.e(P)&&(D=new Float64Array(3*I),H=new Float64Array(3*I));var R=p,S=y;N.positions=R,N.height=S;var z=0;for(O=0;O<T-1;O++){R[0]=l[O],R[1]=l[O+1],S[0]=A[O],S[1]=A[O+1];var B=o.m.generateArc(N);E.set(B,z),i.e(P)&&D.set(v(B,C),z),S[0]=d[O],S[1]=d[O+1],x.set(o.m.generateArc(N),z),i.e(P)&&H.set(v(o.m.generateArc(N),C),z),z+=B.length}}else N.positions=l,N.height=A,E=new Float64Array(o.m.generateArc(N)),i.e(P)&&(D=new Float64Array(v(o.m.generateArc(N)))),N.height=d,x=new Float64Array(o.m.generateArc(N)),i.e(P)&&(H=new Float64Array(v(o.m.generateArc(N))));var G={pos:{bottomPositions:x,topPositions:E,numCorners:q}};return i.e(P)&&(G.localPos={bottomPositions:H,topPositions:D,numCorners:q}),G}},e.D=l}));
